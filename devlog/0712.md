# 0712

### #6.14 See photo comments

- photos.typeDefs 에 comment(numOfComments, to be exact) 추가 (type Photo) 

  `comments : Int!`

- photos.resolvers >> comments

- seePhotosComment를 comments  폴더 내에 만들지 photos 폴더 내에 만들지 >> 모델링 문제



**without pagination** - 데이터베이스에 부하

```js
// seePhotoComments.resolvers
seePhotoComments: (_, { id }) => client.photo.findUnique({
            where: {
                id,
            },
        }).Comment(),
```

**with pagination**

```js
 seePhotoComments: (_, { id }) => client.comment.findMany({
            where: {
                photoId: id,
            },
     		skip: ~
     		take : ~
            orderBy: {
                createdAt: "asc",
            }
        })
```

- 왜 굳이 seePhotoComments를 만들었는가 (seePhotoLikes도 마찬가지)

  ```js
  seePhoto { // 이렇게 확인할 수도 있음
      comments (page:1){
          id
          caption
      }
  }
  ```

  - 인스타그램에서 comment는 사진을 보여주는 페이지와 다른 페이지임(다른 페이지로 넘어감) -> 또다른 resolver가 실행되는 것으로 판단
  - 한 화면에서 보여주고 싶으면 typeDefs에 `comments : [Comment]`라고 적었을것임



### #6.15 isMine

