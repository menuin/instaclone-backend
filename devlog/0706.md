# 0706

### #4.15 File Upload part 2

- file upload 하기위해 (playground에선 할 수 없음)  **altair**  다운로드 필요  (크롬 확장프로그램 - altair graphql client)
- 좌측메뉴에 setHeaders 로 토큰 세팅하기



```js
// editProfile.typeDefs.js

type Mutation {
    editProfile(
        firstName:String
        lastName : String
        username : String
        email : String
        password : String
        bio : String
        avatar : Upload  // 추가
    ) : EditProfileResult
}
`
```

```
// altair (altair 문법(?))
mutation ($bio:String, $avatar:Upload) {
  editProfile(bio:$bio, avatar:$avatar){
    ok
    error
  }
}

// 하단 variables
{
	"bio" : "i'm super happy"
}
// 하단 add files 에 avatar이름으로 파일 업로드
```

- editProfile의 함수에서 console.log(avatar) 를 찍어보면 (request를 보낼 때) file이 들어있는 promise가 출력된다



-  보통 세가지 과정
  1. 유저가 내 서버에 파일을 업로드
  2. 내가 aws에 그 파일을 업로드
  3. aws가 나에게 url을 준다